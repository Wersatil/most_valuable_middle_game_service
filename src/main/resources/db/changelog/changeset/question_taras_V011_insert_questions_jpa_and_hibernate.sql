INSERT INTO question (question_text, answer, author) VALUES
    ('Что такое @GeneratedValue в JPA?', 'Позволяет автоматически генерировать значения первичного ключа.', 'Wersatil'),
    ('Что делает mappedBy в @OneToMany?', 'указывает поле другой (главной в их паре) сущности, которое содержит @ManyToOne и внешний ключ. Пример: в сущности Order есть поле private List<OrderItem> items, помеченное @OneToMany(mappedBy = "order"), а в сущности OrderItem присутствует это самое поле Order.на ', 'Wersatil'),
    ('Что делают FetchType.LAZY и FetchType.EAGER?', '@Lazy - связанные сущности загружаются только при первом обращении, а не сразу. @Eager - cвязанные сущности загружаются сразу вместе с основной сущностью', 'Wersatil'),
    ('Что делают CascadeType.PERSIST и CascadeType.REMOVE?', 'При сохранении/удалении родителя автоматически сохраняются/удаляются дочерние сущности.', 'Wersatil'),
    ('Что делает CascadeType.MERGE?', 'При объединении состояния родителя изменения применяются и к дочерним сущностям.', 'Wersatil'),
    ('Что такое N+1 problem?', 'Ситуация, когда при выборке родительских сущностей делается N дополнительных запросов для дочерних.', 'Wersatil'),
    ('Из-за чего возникает N+1 problem?', 'Из-за FetchType.LAZY и последующих обращений к коллекциям без join fetch.', 'Wersatil'),
    ('Как решить N+1 problem?', 'Использовать join fetch в JPQL или EntityGraph, или EAGER fetch, но осторожно.', 'Wersatil'),
    ('Что такое EntityManager?', 'Интерфейс JPA для управления жизненным циклом сущностей и выполнения запросов.', 'Wersatil'),
    ('Перечислите методы EntityManager?', 'persist(), merge(), remove(), find(), createQuery().', 'Wersatil'),
    ('В чем разница между EntityManager и Repository?', 'EntityManager — низкоуровневый интерфейс JPA, Repository — высокоуровневый Spring Data подход.', 'Wersatil'),
    ('Что такое JPQL?', 'Java Persistence Query Language — объектно-ориентированный язык запросов к сущностям.', 'Wersatil'),
    ('Что такое TypedQuery?', 'Интерфейс для выполнения JPQL запросов с указанным типом результата.', 'Wersatil'),
    ('Что делает orphanRemoval=true?', 'Автоматически удаляет дочерние сущности, которые больше не связаны с родителем.', 'Wersatil'),
    ('Что делает fetch join в JPQL?', 'Позволяет загружать связанные сущности одним запросом, решая N+1 проблему.', 'Wersatil'),
    ('Можно ли менять FetchType динамически?', 'Нет, FetchType задается на уровне аннотации, но можно использовать join fetch в запросах.', 'Wersatil'),
    ('Что делает метод persist() EntityManager?', 'Сохраняет новую сущность в контекст персистентности. Другими словами: persist() переводит сущность из состояния new в managed и при коммите транзакции выполняет INSERT', 'Wersatil'),
    ('Что делает метод merge() EntityManager?', 'Метод merge() в JPA используется для объединения состояния объекта с базой данных. Он отличается от persist() тем, что работает как с новыми, так и с detached сущностями', 'Wersatil'),
    ('Что такое detached сущность?', 'Сущность, которая была извлечена из контекста персистентности и не отслеживается.', 'Wersatil'),
    ('Что такое managed сущность?', 'Сущность, которая отслеживается контекстом персистентности, изменения автоматически синхронизируются.', 'Wersatil'),
    ('Что такое dirty checking?', 'Механизм JPA, который автоматически отслеживает изменения managed сущностей и сохраняет их в базе.', 'Wersatil'),
    ('Можно ли использовать CascadeType с ManyToOne?', 'Да, можно, но осторожно, обычно не используют REMOVE для ManyToOne.', 'Wersatil'),
    ('Что такое bidirectional связь в JPA?', 'Связь, где обе сущности ссылаются друг на друга через @OneToMany/@ManyToOne и mappedBy.', 'Wersatil'),
    ('Что такое unidirectional связь в JPA?', 'Связь, где только одна сущность знает о другой. Связь есть только в одном классе, другой класс не имеет поля для обратной связи.', 'Wersatil'),
    ('Как избежать LazyInitializationException?', 'Использовать fetch join, открыть сессию до доступа к ленивым коллекциям, или EAGER fetch.', 'Wersatil');