INSERT INTO question (question_text, answer, author) VALUES
    ('Что такое Spring Framework?', 'Spring Framework — это фреймворк для создания Java-приложений. Он предоставляет готовые решения для DI (управления зависимостями), транзакций, безопасности и веб-разработки. Основа — контейнер IoC, который управляет объектами (бинами).', 'elka'),
    ('Каковы основные преимущества Spring Framework?', '1. Dependency Injection для тестируемости и слабой связности. 2. AOP для разделения сквозной функциональности. 3. Упрощённое управление транзакциями. 4. Модульность — можно использовать только нужные части. 5. Огромная экосистема проектов (Boot, Cloud, Data). 6. Простое тестирование благодаря архитектуре на POJO.', 'elka'),
    ('Что такое Dependency Injection в Spring?', 'Паттерн проектирования, при котором контейнер Spring создаёт и внедряет зависимости в объекты, вместо того чтобы объекты создавали их самостоятельно через ''new''. Это делает код слабосвязанным, легко тестируемым и гибким. Реализация принципа инверсии управления (IoC).', 'elka'),
    ('Какие способы внедрения зависимостей существуют в Spring?', '1. Через конструктор (рекомендуется) — обеспечивает неизменяемость и полную инициализацию. 2. Через сеттер-методы — для опциональных зависимостей. 3. Через поле с @Autowired (не рекомендуется для production из-за сложности тестирования).', 'elka'),
    ('В чём разница между @Component, @Service, @Repository и @Controller?', 'Все эти стереотипные аннотации создают Spring бины. @Component — универсальная. @Service — для бизнес-логики. @Repository — для слоя доступа к данным (автоматически преобразует исключения БД). @Controller — для обработки HTTP-запросов в MVC.', 'elka'),
    ('Что такое Spring Bean?', 'Объект, жизненным циклом которого управляет контейнер Spring IoC. Spring создаёт, настраивает и внедряет зависимости в бины.', 'elka'),
    ('В чём разница между BeanFactory и ApplicationContext?', 'BeanFactory — базовый контейнер с ленивой (lazy) инициализацией бинов. ApplicationContext — расширенный, полнофункциональный контейнер, наследующий BeanFactory. ApplicationContext загружает все синглтоны при старте и добавляет поддержку событий, интернационализации, AOP ''из коробки''.', 'elka'),
    ('Какие области видимости (scope) бинов существуют в Spring?', '1. singleton (один на всё приложение, по умолчанию). 2. prototype (новый экземпляр при каждом запросе). 3. request (один на HTTP-запрос). 4. session (один на HTTP-сессию). 5. application (один на ServletContext). 6. websocket (один на WebSocket-сессию).', 'elka'),
    ('Являются ли singleton-бины потокобезопасными по умолчанию?', 'Нет. Spring управляет только жизненным циклом бина, но не синхронизирует доступ. Если состояние бина изменяемое, программист должен самостоятельно обеспечить потокобезопасность.', 'elka'),
    ('Опишите жизненный цикл Spring Bean.', '1. Создание экземпляра. 2. Внедрение зависимостей. 3. Вызов Aware-интерфейсов (BeanNameAware и др.). 4. BeanPostProcessor.postProcessBeforeInitialization(). 5. @PostConstruct / InitializingBean.afterPropertiesSet(). 6. BeanPostProcessor.postProcessAfterInitialization() (здесь создаются AOP-прокси). 7. Bean готов к использованию. 8. @PreDestroy / DisposableBean.destroy() при уничтожении контекста.', 'elka'),
    ('Какие способы конфигурации Spring приложения существуют?', '1. XML-конфигурация (устаревший, но гибкий способ). 2. Java-based через @Configuration и @Bean (рекомендуется). 3. Annotation-based через @ComponentScan. 4. Properties-файлы с @Value и @ConfigurationProperties.', 'elka'),
    ('Что такое Spring Boot?', 'Надстройка над Spring Framework для быстрого создания production-ready приложений. Предоставляет: автоконфигурацию (auto-configuration) на основе classpath, встроенные серверы (Tomcat, Jetty), стартеры (готовые наборы зависимостей) и фичи для мониторинга через Actuator.', 'elka'),
    ('Что делает аннотация @SpringBootApplication?', 'Комбинированная аннотация, объединяющая три: 1. @SpringBootConfiguration — отмечает класс как источник конфигурации. 2. @EnableAutoConfiguration — включает механизм автоконфигурации. 3. @ComponentScan — сканирует текущий пакет и подпакеты на наличие компонентов.', 'elka'),
    ('Опишите поток запроса в Spring MVC.', '1. HTTP-запрос → DispatcherServlet (Front Controller). 2. DispatcherServlet через HandlerMapping находит подходящий Controller. 3. Controller обрабатывает запрос, вызывает сервисный слой. 4. Controller возвращает ModelAndView или данные. 5. ViewResolver определяет представление. 6. View рендерится с данными Model. 7. DispatcherServlet отправляет ответ клиенту.', 'elka'),
    ('Как Spring обеспечивает управление транзакциями?', 'Через декларативное управление с аннотацией @Transactional. Spring через AOP автоматически открывает и закрывает транзакцию вокруг метода. Важные ограничения: работает только на public методах. Вызов внутри одного класса не перехватывается (self-invocation problem).', 'elka'),
    ('Что такое Spring Data JPA?', 'Проект Spring, упрощающий работу с БД через JPA. Главная особенность: создание запросов из имён методов по соглашению (findByName, findByAgeGreaterThan). Также предоставляет готовые CRUD-операции через JpaRepository.', 'elka'),
    ('Что такое Spring Security?', 'Фреймворк для аутентификации (кто вы?) и авторизации (что вам можно?). Защищает от уязвимостей (CSRF, XSS, session fixation). Интегрируется с OAuth2, LDAP, базой данных. В Spring Boot 3 / Security 6 используется @EnableMethodSecurity.', 'elka'),
    ('Что такое Spring AOP? Основные понятия.', 'Реализация аспектно-ориентированного программирования для модуляризации сквозной функциональности. Aspect — модуль сквозной логики. Advice — код, выполняемый (@Before, @After, @Around). Join Point — точка выполнения (вызов метода). Pointcut — выражение выбора Join Points. Weaving — процесс внедрения аспектов (в Spring — через динамические прокси).', 'elka'),
    ('Что такое Spring Profiles?', 'Механизм для условной конфигурации в зависимости от среды (dev, test, prod). Позволяет активировать разные наборы бинов и свойств через spring.profiles.active. Настройка через @Profile на @Configuration-классе или @Bean-методе.', 'elka'),
    ('Что такое Spring Boot Actuator?', 'Модуль для мониторинга и управления production-приложением. Предоставляет HTTP endpoints: /actuator/health (состояние), /actuator/metrics (метрики), /actuator/env (переменные окружения), /actuator/loggers (управление логгерами).', 'elka'),
    ('Как работает аннотация @Autowired?', 'Spring автоматически находит подходящий бин по типу и внедряет его. Если найдено несколько бинов одного типа — возникает неоднозначность (NoUniqueBeanDefinitionException). Решается через @Qualifier (по имени) или @Primary (бин по умолчанию).', 'elka'),
    ('Что такое Spring Boot Starter?', 'Готовые наборы зависимостей для конкретных задач: spring-boot-starter-web (веб), spring-boot-starter-data-jpa (БД), spring-boot-starter-security (безопасность), spring-boot-starter-test (тесты). Каждый стартер включает все необходимые библиотеки с совместимыми версиями.', 'elka'),
    ('Что такое Spring Cloud?', 'Набор инструментов для микросервисной архитектуры: Spring Cloud Config (централизованная конфигурация), Service Discovery (Eureka), API Gateway, распределённая трассировка (Sleuth/Zipkin), Circuit Breaker (Resilience4j).', 'elka'),
    ('Как реализовать кэширование в Spring?', 'Через аннотации: @Cacheable (кэширует результат метода), @CacheEvict (удаляет из кэша), @CachePut (обновляет кэш). Требуется @EnableCaching. Поддерживает различные реализации: Redis, Ehcache, Caffeine, Hazelcast.', 'elka'),
    ('Что такое Spring Batch?', 'Фреймворк для пакетной обработки больших объёмов данных. Используется для: генерации отчётов, миграции данных, обработки файлов. Основные компоненты: Job, Step, ItemReader, ItemProcessor, ItemWriter.', 'elka'),
    ('Как реализовать асинхронные вызовы в Spring?', 'С помощью аннотации @Async над методом. Метод выполняется в отдельном потоке. Возвращает CompletableFuture для работы с результатом. Требуется @EnableAsync. Не работает на private методы и вызовы внутри одного класса.', 'elka'),
    ('Что такое Spring WebFlux и когда использовать?', 'Реактивный фреймворк для неблокирующих веб-приложений. Использует Project Reactor (Mono, Flux). Идеален для: высоконагруженных I/O-bound приложений, стриминга данных, микросервисов с высокой конкурентностью. Работает на Netty вместо сервлетов.', 'elka'),
    ('Как организовать обработку ошибок в Spring REST API?', 'Через @RestControllerAdvice (глобальный обработчик) + @ExceptionHandler (обработка конкретных исключений). Позволяет возвращать структурированные JSON-ошибки с нужным HTTP-статусом. Можно использовать Problem Details API (RFC 7807) в Spring Boot 3.', 'elka'),
    ('Что такое GraalVM Native Image в Spring Boot 3?', 'Технология компиляции Spring-приложения в нативный бинарник (без JVM). Преимущества: старт за миллисекунды, меньшее потребление памяти. Требует специальной конфигурации для отражения и динамических прокси.', 'elka'),
    ('Какие существуют типы propagation транзакций в Spring?', '1. REQUIRED (по умолчанию) — использует существующую или создаёт новую. 2. REQUIRES_NEW — всегда создаёт новую. 3. NESTED — создаёт вложенную savepoint-транзакцию внутри существующей. 4. SUPPORTS — работает, если есть транзакция. 5. NEVER — требует отсутствия транзакции. 6. MANDATORY — требует наличия транзакции.', 'elka'),
    ('Как реализовать retry-логику в Spring?', 'С помощью Spring Retry и аннотаций: @Retryable (повтор при исключениях), @Backoff (задержка между попытками), @Recover (fallback-метод). Требуется @EnableRetry. Поддерживает экспоненциальную задержку и указание исключений для повтора.', 'elka'),
    ('Что такое Circuit Breaker (предохранитель)?', 'Паттерн для устойчивости микросервисов. При частых сбоях вызовов внешнего сервиса переходит в состояние ''разомкнуто'' и вызывает fallback-метод, избегая перегрузки системы. Реализации: Resilience4j, Spring Cloud Circuit Breaker.', 'elka'),
    ('Что такое @Configuration и @Bean?', '@Configuration отмечает класс как источник конфигурации Spring. @Bean — метод внутри такого класса, который создаёт и возвращает Spring-бин. @Configuration-классы обрабатываются CGLIB для обеспечения singleton-поведения бинов.', 'elka'),
    ('Для чего используется @Value?', 'Для внедрения значений из внешних источников: @Value(''${db.url}'') — из properties-файлов.', 'elka'),
    ('Что такое @ConfigurationProperties?', 'Связывает группу свойств из application.properties/yml с полями Java-класса. Требует @EnableConfigurationProperties.', 'elka'),
    ('Какие аннотации валидации используются в Spring?', 'JSR-303/Jakarta Bean Validation: @NotNull, @Size, @Email, @Pattern, @Min, @Max, @NotBlank, @NotEmpty. @Valid — активирует валидацию. @Validated — Spring-версия, поддерживает групповую валидацию и валидацию на уровне класса.', 'elka'),
    ('Что делает аннотация @NotNull?', 'Проверяет, что поле/параметр не равно null. Часть Jakarta Bean Validation. Пример: @NotNull private String name;', 'elka'),
    ('Что делает аннотация @NotBlank?', 'Проверяет, что строка не равна null и не пустая (содержит хотя бы один непробельный символ). Пример: @NotBlank private String username;', 'elka'),
    ('Что делает аннотация @NotEmpty?', 'Проверяет, что коллекция/массив/строка не null и не пустая. Для строк: length() > 0. Пример: @NotEmpty private List<String> items;', 'elka'),
    ('Что делает аннотация @Size?', 'Проверяет размер строки, коллекции или массива. Параметры: min, max. Пример: @Size(min=2, max=100) private String password;', 'elka'),
    ('Что делает аннотация @Email?', 'Проверяет, что строка соответствует формату email адреса. Пример: @Email private String email;', 'elka'),
    ('Что делает аннотация @Min и @Max?', 'Проверяют числовые значения: @Min - минимальное значение, @Max - максимальное. Пример: @Min(18) @Max(100) private int age;', 'elka'),
    ('Что делает аннотация @Pattern?', 'Проверяет строку на соответствие регулярному выражению. Пример: @Pattern(regexp=''^[A-Z][a-z]*$'') private String firstName;', 'elka'),
    ('В чём разница между @Valid и @Validated?', '@Valid - стандартная JSR-303 аннотация, поддерживает каскадную валидацию. @Validated - Spring-расширение, добавляет групповую валидацию и работает на уровне класса сервиса.', 'elka'),
    ('Как работает @Transactional и какие у него атрибуты?', 'Аннотация для декларативного управления транзакциями через AOP. Атрибуты: propagation (распространение), isolation (уровень изоляции), timeout, readOnly, rollbackFor (при каких исключениях делать откат), noRollbackFor. Работает только на public методах.', 'elka'),
    ('Что такое @Enable* аннотации в Spring?', 'Аннотации для модульного включения функциональности: @EnableCaching (кэширование), @EnableAsync (асинхронность), @EnableScheduling (планировщик), @EnableTransactionManagement (транзакции), @EnableJpaRepositories (Spring Data JPA), @EnableDiscoveryClient (сервис обнаружения).', 'elka'),
    ('Какие аннотации для работы с HTTP в Spring MVC?', 'Композитные аннотации: @GetMapping, @PostMapping, @PutMapping, @DeleteMapping, @PatchMapping (упрощают @RequestMapping). Также: @RequestParam (параметры запроса), @PathVariable (переменные пути), @RequestBody (тело запроса), @ResponseBody (тело ответа), @ResponseStatus (HTTP-статус).', 'elka'),
    ('Для чего используется @RestControllerAdvice?', 'Объединяет @ControllerAdvice и @ResponseBody. Позволяет создать глобальный обработчик исключений для REST API, возвращающий структурированные JSON-ошибки. Обрабатывает исключения через методы с @ExceptionHandler.', 'elka'),
    ('Для чего используется @Async?', 'Помечает метод как асинхронный. Выполняется в отдельном потоке. Возвращает void, Future или CompletableFuture. Требует @EnableAsync. Не работает на private методы и вызовы внутри одного класса.', 'elka'),
    ('Что такое @Scheduled?', 'Аннотация для выполнения метода по расписанию. Параметры: fixedDelay (пауза после завершения), fixedRate (интервал между запусками), cron (cron-выражение). Требует @EnableScheduling. Cron-формат: секунды минуты часы день_месяца месяц день_недели.', 'elka'),
    ('Какие аннотации для кэширования в Spring?', '@Cacheable (кэширует результат метода), @CacheEvict (удаляет из кэша), @CachePut (обновляет кэш), @Caching (несколько операций), @CacheConfig (общая конфигурация для класса). Требуют @EnableCaching. Поддерживают ключи через SpEL.', 'elka'),
    ('Что такое @Conditional аннотации в Spring Boot?', 'Условное создание бинов. Примеры: @ConditionalOnClass (если класс в classpath), @ConditionalOnProperty(name=''cache.enabled'', havingValue=''true''), @ConditionalOnMissingBean (если бин отсутствует), @ConditionalOnWebApplication (для веб-приложений). Основа auto-configuration.', 'elka'),
    ('Для чего используются @PostConstruct и @PreDestroy?', 'JSR-250 аннотации для методов жизненного цикла. @PostConstruct — выполняется после внедрения зависимостей, перед использованием бина (аналог InitializingBean.afterPropertiesSet()). @PreDestroy — вызывается перед уничтожением бина.', 'elka'),
    ('В чём разница между @Primary и @Qualifier?', '@Primary указывает бин по умолчанию при неоднозначности внедрения (несколько бинов одного типа). @Qualifier уточняет конкретное имя бина для внедрения. @Primary задаёт приоритет, @Qualifier даёт точный контроль. Можно использовать вместе.', 'elka'),
    ('Какие аннотации для безопасности в Spring Security?', '@EnableWebSecurity — включает безопасность. @PreAuthorize, @PostAuthorize — контроль доступа на основе выражений (SpEL). @Secured — ролевой доступ. В Spring Security 6+ используется @EnableMethodSecurity (старый @EnableGlobalMethodSecurity устарел).', 'elka'),
    ('Что такое @Entity и @Table в JPA?', '@Entity помечает класс как сущность JPA, сохраняемую в БД. @Table указывает имя таблицы и схему. Другие аннотации JPA: @Id (первичный ключ), @GeneratedValue (стратегия генерации), @Column (маппинг колонки), @OneToMany/@ManyToOne (связи), @Transient (не сохраняемое поле).', 'elka'),
    ('Какие аннотации для Spring Data JPA?', '@Repository (стереотип DAO, преобразует исключения), @Query (кастомный JPQL или SQL-запрос), @Modifying (для UPDATE/DELETE), @EntityGraph (жадная загрузка связанных сущностей), @Lock (блокировки). Производные query methods: findByName, findByAgeGreaterThan.', 'elka'),
    ('Что такое @SpringBootTest?', 'Аннотация для интеграционных тестов с полным поднятием Spring Boot-контекста. Параметры: webEnvironment (тип окружения), classes (конфигурационные классы). Часто используется с @MockBean, @TestPropertySource, @AutoConfigureMockMvc.', 'elka'),
    ('Как работают @MockBean и @SpyBean?', '@MockBean создаёт Mockito-mock и регистрирует его как Spring-бин (заменяет или добавляет). @SpyBean создаёт spy (частичный mock) на реальном бине. Используются в интеграционных тестах Spring Boot. Автоматически сбрасываются после каждого теста.', 'elka'),
    ('Что такое @WebMvcTest и @DataJpaTest?', '@WebMvcTest — тестирует только MVC-слой (быстро, без полного контекста). Автоматически настраивает MockMvc. @DataJpaTest — тестирует JPA-слой (настраивает in-memory БД, инжектирует TestEntityManager). Это ''срезовые'' (slice) тесты.', 'elka'),
    ('Для чего используется @ActiveProfiles в тестах?', 'Активирует указанные Spring-профили для теста. Например, @ActiveProfiles(''test'') для использования тестовой БД и конфигурации. Работает с @SpringBootTest, @WebMvcTest, @DataJpaTest и другими тестовыми аннотациями.', 'elka'),
    ('В чём отличие @Validated от @Valid?', '@Validated — Spring-специфичная аннотация, поддерживает групповую валидацию (groups) и может использоваться на уровне класса (Service), а не только параметров. @Valid — стандарт JSR-303, поддерживает каскадную валидацию (@Valid на полях объекта).', 'elka'),
    ('Для чего используется @ModelAttribute?', 'На уровне метода: добавляет атрибут в модель для всех запросов контроллера (например, списки для выпадающих меню). На уровне параметра: связывает данные запроса (форма, параметры) с объектом и добавляет в модель.', 'elka'),
    ('Что такое @EventListener?', 'Помечает метод как слушателя событий Spring (ApplicationEvent). Метод вызывается при публикации соответствующего события через ApplicationEventPublisher. Поддерживает асинхронную обработку через @Async.', 'elka'),
    ('Для чего используется @JsonView?', 'Определяет представления (views) для сериализации JSON. Позволяет возвращать разные наборы полей объекта для разных API-эндпоинтов или клиентов. Уменьшает объём передаваемых данных и повышает безопасность.', 'elka'),
    ('Что такое @CrossOrigin?', 'Аннотация для разрешения CORS (Cross-Origin Resource Sharing) запросов к контроллеру или методу. Параметры: origins (разрешённые домены), methods (HTTP-методы), maxAge (время кэширования preflight). Глобальная настройка через WebMvcConfigurer.', 'elka'),
    ('Что такое @Profile?', 'Условное создание бина или конфигурации только для указанных профилей. Например, @Profile(''dev'') создаёт бин только для профиля dev. Профили активируются через spring.profiles.active или переменные окружения.', 'elka'),
    ('Что такое @RefreshScope?', 'Создаёт бин, который может быть ''освежён'' без перезапуска приложения при изменении конфигурации в Spring Cloud Config. Отправка POST на /actuator/refresh пересоздаёт такие бины с новыми значениями @Value.', 'elka'),
    ('Для чего используется @KafkaListener?', 'Помечает метод как слушателя сообщений Apache Kafka. Метод автоматически вызывается при получении сообщения из указанного топика. Поддерживает конкурентность через параметр concurrency, обработку ошибок, ручное подтверждение.', 'elka'),
    ('Что такое @Nullable и @NonNullApi?', '@Nullable указывает, что параметр, возвращаемое значение или поле может быть null. @NonNullApi на уровне пакета — все параметры и возвращаемые значения не-null по умолчанию. Помогает статическому анализу и взаимодействию с Kotlin.', 'elka'),
    ('Что такое @FeignClient?', 'Аннотация Spring Cloud OpenFeign для создания декларативного REST-клиента. Позволяет описать вызов другого микросервиса как Java-интерфейс с аннотациями. Поддерживает fallback через Hystrix/Resilience4j, балансировку нагрузки.', 'elka'),
    ('Что такое @Projection в Spring Data?', 'Определяет интерфейс-представление сущности JPA, возвращающий только подмножество полей или вычисляемые поля. Уменьшает объём передаваемых данных и помогает решить проблему N+1 запросов. Используется в Spring Data REST и запросах.', 'elka'),
    ('Что такое @PathVariable в Spring MVC?', 'Аннотация для получения значения переменной из URL-шаблона. Пример: в эндпоинте @GetMapping(''/users/{id}'') можно получить {id} как параметр метода: @PathVariable Long id.', 'elka'),
    ('Что такое @RequestParam в Spring MVC?', 'Аннотация для получения параметров строки запроса (query parameters). Пример: для URL /users?page=1&size=10 используем параметры: @RequestParam int page, @RequestParam int size.', 'elka'),
    ('Что такое @RequestBody в Spring MVC?', 'Аннотация для привязки тела HTTP-запроса (обычно JSON или XML) к объекту Java. Spring автоматически десериализует JSON в объект указанного класса. Используется в POST/PUT методах.', 'elka'),
    ('Объясните @Controller и @RestController простыми словами', '@Controller - для MVC с HTML-страницами. @RestController - упрощённая версия для REST API, которая автоматически возвращает JSON/XML без @ResponseBody.', 'elka'),
    ('Что такое @Autowired и когда возникает неоднозначность?', 'Аннотация для автоматического внедрения зависимостей Spring. Неоднозначность (NoUniqueBeanDefinitionException) возникает при нескольких бинах одного типа. Решения: @Primary (бин по умолчанию), @Qualifier (указание имени), создание дополнительного @Bean.', 'elka'),
    ('Какие основные атрибуты у @Transactional?', 'propagation (поведение транзакций), isolation (уровень изоляции), timeout (таймаут), readOnly (только чтение), rollbackFor/rollbackForClassName (откат при исключениях), noRollbackFor (без отката при исключениях).', 'elka'),
    ('Как создать кастомный бин через @Bean?', 'Определить метод в классе @Configuration, аннотировать его @Bean и вернуть нужный объект. Spring будет управлять этим объектом как бином. Можно задавать имя, scope, зависит от других бинов через @DependsOn.', 'elka'),
    ('Как работает @ComponentScan и что такое basePackages?', '@ComponentScan сканирует классы на наличие Spring-аннотаций. Параметр basePackages указывает пакеты для сканирования (по умолчанию - пакет класса с @SpringBootApplication). basePackageClasses - безопасная альтернатива для указания пакетов.', 'elka'),
    --('Что такое Jakarta EE и как связано с Spring Boot 3?', 'Jakarta EE - новая версия Java EE под управлением Eclipse Foundation. Spring Boot 3 перешёл с javax.* на jakarta.* пакеты, что требует обновления зависимостей и совместимости с Jakarta EE 9+ спецификациями.', 'elka'),
    ('Что такое @GetMapping и как отличается от @PostMapping?', '@GetMapping - для HTTP GET запросов (получение данных). @PostMapping - для HTTP POST запросов (создание данных). Обе являются удобными сокращениями для @RequestMapping с указанным методом.', 'elka'),
    ('Что такое @InitBinder?', 'Аннотация Spring MVC для настройки обработки данных запроса перед привязкой к параметрам метода контроллера. Позволяет регистрировать кастомные PropertyEditor, устанавливать обязательные/необязательные поля, добавлять валидаторы. Используется в методах с параметром WebDataBinder.', 'elka'),
    ('Какие основные аннотации используются в Spring Security?', '1. @EnableWebSecurity - включает конфигурацию безопасности. 2. @PreAuthorize, @PostAuthorize - контроль доступа на основе SpEL выражений. 3. @Secured - ролевой доступ. 4. @EnableMethodSecurity - активирует аннотации безопасности на методах. 5. @EnableGlobalMethodSecurity (устарел в Security 6+).', 'elka'),
    ('Что делает аннотация @PreAuthorize в Spring Security?', 'Проверяет права доступа ДО выполнения метода. Использует SpEL выражения. Пример: @PreAuthorize(''hasRole(''ADMIN'') or #userId == authentication.principal.id'')', 'elka'),
    ('Что делает аннотация @PostAuthorize в Spring Security?', 'Проверяет права доступа ПОСЛЕ выполнения метода, может использовать возвращаемое значение. Пример: @PostAuthorize(''returnObject.owner == authentication.name'')', 'elka'),
    ('Что делает аннотация @Secured в Spring Security?', 'Упрощённая аннотация для проверки ролей. Пример: @Secured({''ROLE_ADMIN'', ''ROLE_USER''})', 'elka'),
    ('Что такое @EnableMethodSecurity в Spring Security 6+?', 'Заменяет устаревший @EnableGlobalMethodSecurity. Включает поддержку аннотаций @PreAuthorize, @PostAuthorize, @Secured на методах. Требуется для использования метод-уровневой безопасности.', 'elka'),
    ('Что такое Spring Boot Actuator Health Indicators?', 'Компоненты Actuator, проверяющие здоровье приложения: DatabaseHealthIndicator, DiskSpaceHealthIndicator, CustomHealthIndicator. Настраиваются через management.endpoint.health.*. Показывают статус UP/DOWN.', 'elka'),
    ('Что такое JpaRepository и его основные методы?', 'Интерфейс Spring Data JPA с CRUD операциями: save(), findById(), findAll(), deleteById(), count(). Наследует PagingAndSortingRepository для пагинации и сортировки.', 'elka'),
    ('Что такое Spring Cloud Gateway?', 'API Gateway для маршрутизации, балансировки нагрузки, аутентификации, мониторинга. Альтернатива Netflix Zuul. Работает на Project Reactor (неблокирующий).', 'elka'),
    ('Что такое Spring Cloud Config?', 'Сервис централизованного управления конфигурацией. Хранит настройки в Git, SVN или файловой системе. Поддерживает шифрование, профили, автоматическое обновление (@RefreshScope).', 'elka'),
    ('Что такое Testcontainers и как использовать с Spring Boot?', 'Библиотека для запуска Docker-контейнеров в тестах (БД, Kafka, Redis). @Testcontainers + @Container. Позволяет делать интеграционные тесты с реальными сервисами.', 'elka'),
    ('Что такое DTO в Spring и зачем нужно?', 'Data Transfer Object - объект для передачи данных между слоями. Отделяет внутреннюю модель (Entity) от API. Уменьшает объём передаваемых данных, повышает безопасность.', 'elka'),
    ('Что такое MapStruct и зачем использовать в Spring?', 'Библиотека для маппинга объектов (Entity ↔ DTO). Генерирует код на этапе компиляции. Интегрируется с Spring через @Mapper(componentModel = ''spring'').', 'elka'),
    ('Какие существуют подходы к обработке ошибок в Spring?', '1. @ControllerAdvice/@RestControllerAdvice (глобально). 2. @ExceptionHandler (на уровне контроллера). 3. ResponseStatusException (для простых случаев). 4. Problem Details (RFC 7807) в Spring Boot 3.', 'elka'),
    ('Как работает componentModel = ''spring'' в MapStruct?', 'Указывает MapStruct генерировать маппер как Spring-бин (@Component). Spring IoC контейнер управляет его жизненным циклом и внедряет зависимости. Позволяет использовать @Autowired и другие Spring-аннотации.', 'elka'),
    ('Чем отличается componentModel = ''spring'' от дефолтного Mappers.getMapper()?', 'componentModel=''spring'' создаёт Spring-бин (@Component), внедряется через DI. Mappers.getMapper() — статический фабричный метод, маппер создаётся как синглтон через MapStruct (не управляется Spring). Spring-версия позволяет DI зависимостей.', 'elka'),
    ('Почему при componentModel = ''spring'' маппер нужно инжектить через Spring?', 'Потому что маппер становится Spring-бином с полной поддержкой DI. Spring управляет его жизненным циклом, внедряет зависимости (@Autowired), поддерживает AOP-прокси. Это обеспечивает консистентность со всей Spring-экосистемой.', 'elka'),
    ('Как инжектить в маппер другие мапперы и сервисы?', 'Через параметры uses и injectionStrategy: 1. uses = {OtherMapper.class, HelperService.class} — указывает зависимости. 2. injectionStrategy = InjectionStrategy.CONSTRUCTOR — внедрение через конструктор (рекомендуется). 3. @Autowired на полях/конструкторе в реализации.', 'elka'),
    ('В чём разница между @Mapping и @BeanMapping?', '@Mapping настраивает маппинг конкретного поля: source, target, expression, constant. @BeanMapping настраивает поведение всего метода: nullValuePropertyMappingStrategy, ignoreByDefault, qualifiedByName. @BeanMapping — мета-аннотация для метода.', 'elka'),
    ('Что такое nullValuePropertyMappingStrategy в MapStruct?', 'Стратегия обработки null-значений при маппинге: 1. SET_TO_NULL (по умолчанию) — устанавливает null. 2. SET_TO_DEFAULT — устанавливает default-значение (0, false, etc). 3. IGNORE — пропускает поле, оставляя существующее значение.', 'elka'),
    ('Как использовать квалифицированные методы (qualifiedByName) в MapStruct?', '1. @Named аннотация на методе-помощнике. 2. @Mapping(qualifiedByName = ''methodName'') на поле. 3. MapStruct вызовет указанный метод для преобразования значения. Полезно для кастомной логики маппинга.', 'elka'),
    ('Что такое injectionStrategy в MapStruct и какие варианты?', 'Стратегия внедрения зависимостей: 1. CONSTRUCTOR (рекомендуется) — зависимости через конструктор, бин неизменяемый. 2. FIELD — через инъекцию в поля. 3. SETTER — через сеттеры. Важно при uses с другими мапперами/сервисами.', 'elka'),
    ('Как настроить маппинг вложенных объектов в MapStruct?', '1. Автоматически — если типы совместимы. 2. Через @Mapping с указанием пути: @Mapping(source = ''user.address.city'', target = ''city''). 3. Через uses с другим маппером для вложенного типа. 4. expression для кастомной логики.', 'elka'),
    ('Что делает ignoreByDefault = true в @BeanMapping?', 'Игнорирует все поля целевого объекта по умолчанию. Нужно явно указывать @Mapping для полей, которые нужно маппить. Полезно для безопасности — случайно не замаппить лишние поля.', 'elka'),
    ('Как обрабатывать разные имена полей в MapStruct?', 'Через @Mapping: 1. @Mapping(source = ''userName'', target = ''username'') — разные имена. 2. @Mapping(target = ''fullName'', expression = ''java(entity.getFirstName() + " " + entity.getLastName())'') — выражение. 3. constant для константных значений.', 'elka'),
    ('Что такое хуки @BeforeMapping и @AfterMapping в MapStruct?', 'Методы, выполняемые до/после основного маппинга: 1. @BeforeMapping — инициализация, валидация, подготовка данных. 2. @AfterMapping — постобработка, вычисление производных полей, нормализация. Работают как callback-хуки в жизненном цикле маппинга.', 'elka'),
    ('Когда использовать @BeforeMapping в MapStruct?', '1. Инициализация объектов перед маппингом. 2. Валидация входных данных. 3. Установка значений по умолчанию. 4. Подготовка сложных структур данных. Пример: @BeforeMapping default void validate(UserEntity entity) { if (entity == null) return; // валидация }', 'elka'),
    ('Когда использовать @AfterMapping в MapStruct?', '1. Вычисление производных полей (totalPrice = quantity * price). 2. Нормализация данных (trim, case conversion). 3. Установка зависимостей между полями. 4. Логирование результата маппинга. 5. Заполнение технических полей (createdAt, version).', 'elka'),
    ('Можно ли использовать несколько квалификаторов для одного поля?', 'Да, через qualifiedBy (для аннотаций) или qualifiedByName (для имён методов). Можно указывать несколько квалификаторов — MapStruct выберет подходящий метод. Полезно для разных контекстов маппинга.', 'elka'),
    ('В чём разница между qualifiedByName и qualifiedBy?', 'qualifiedByName использует имя метода (@Named). qualifiedBy использует кастомные аннотации-квалификаторы. qualifiedBy более типобезопасен, qualifiedByName проще в использовании. Оба решают одну задачу — выбор метода маппинга.', 'elka');
